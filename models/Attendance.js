const { Schema, model } = require('mongoose');

const attendanceSchema = new Schema({
  user: {
    type: Schema.Types.ObjectId,
    ref: "User"
  },
  location: {
    latitude: {
      type: Number,
      required: true,
    },
    longitude: {
      type: Number,
      required: true,
    }
  },
  screenshot: {
    type: String,
    default: "data:image/jpeg;base64,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"
  },
  address: {
    type: String
  },
  date: {
    type: Date,
    required: true,
    default: new Date()
  },
  duration: {
    type: Number,
    required: true,
  },
  punched_in: {
    type: Boolean,
    default: true,
  },
  punched_out: {
    type: Boolean,
    default: false,
  },
}, {
  timestamps: true,
  strict: false
});

module.exports = model('Attendance', attendanceSchema);
